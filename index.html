<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­—ç»¿æ´²</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-main: #050505;
            --bg-gradient: radial-gradient(circle at center, #1a1a1a 0%, #050505 100%);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.5);
            --text-tertiary: rgba(255, 255, 255, 0.6);
            --accent: #00ff88;
        }

        [data-theme="light"] {
            --bg-main: #ffffff;
            --bg-gradient: radial-gradient(circle at center, #f0f2f5 0%, #ffffff 100%);
            --text-primary: #000000;
            --text-secondary: rgba(0, 0, 0, 0.6);
            --text-tertiary: rgba(0, 0, 0, 0.7);
            --accent: #0066ff;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }

        body {
            background: var(--bg-gradient);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'JetBrains Mono', monospace; 
            overflow: hidden;
            transition: background 0.6s ease, color 0.6s ease;
        }

        /* é¡¶éƒ¨æŒ‰é’® */
        .top-bar {
            position: fixed;
            top: 40px; 
            right: 40px; 
            z-index: 100;
        }

        .icon-btn {
            background: none; 
            border: none;
            font-size: 0.75rem; 
            font-weight: 600;
            cursor: pointer; 
            color: var(--text-secondary); 
            opacity: 0.3;
            transition: opacity 0.3s ease;
            text-transform: uppercase; 
            letter-spacing: 2px;
            font-family: 'JetBrains Mono', monospace;
        }

        .icon-btn:hover { 
            opacity: 1;
        }

        /* å®¹å™¨ */
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 10;
            position: relative;
            gap: 40px;
        }

        /* æ—¶é’Ÿæ ·å¼ */
        .clock-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(3rem, 11vw, 8rem);
            font-weight: 800;
            line-height: 1;
            font-variant-numeric: tabular-nums;
            position: relative;
            color: var(--text-primary);
            transition: color 0.6s ease;
        }

        .time-unit {
            width: 1.4em;
            text-align: center;
            display: inline-block;
        }

        .colon {
            width: 0.4em;
            text-align: center;
            padding-bottom: 0.1em;
        }

        /* ä¼˜åŒ–åçš„æ—¥æœŸæ ·å¼ */
        .date-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
        }

        .date-main {
            display: flex;
            align-items: baseline;
            gap: 16px;
            font-weight: 600;
        }

        .date-year {
            font-size: 1.1rem;
            color: var(--text-secondary);
            letter-spacing: 0.15em;
            transition: color 0.6s ease;
        }

        .date-md {
            font-size: 1.4rem;
            color: var(--text-primary);
            letter-spacing: 0.1em;
            position: relative;
            transition: color 0.6s ease;
        }

        .date-md::before {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            opacity: 0.5;
            transition: background 0.6s ease;
        }

        .date-weekday {
            font-size: 0.9rem;
            color: var(--text-tertiary);
            letter-spacing: 0.3em;
            font-weight: 400;
            transition: color 0.6s ease;
        }

        /* æ—¶é—´æºæŒ‡ç¤ºå™¨ */
        .time-source {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-size: 0.7rem;
            color: var(--text-tertiary);
            opacity: 0.5;
            font-weight: 400;
            letter-spacing: 0.1em;
            transition: opacity 0.3s ease;
        }

        .time-source:hover {
            opacity: 1;
        }

        .time-source.synced {
            color: var(--accent);
        }

        /* å›¾æ ‡é›¨æ ·å¼ */
        .rain-icon {
            position: fixed; 
            top: -50px; 
            pointer-events: none; 
            user-select: none;
            z-index: 1; 
            will-change: transform;
            animation-name: fall;
            animation-timing-function: linear;
        }

        /* é¡ºæ—¶é’ˆæ—‹è½¬ä¸‹è½ */
        @keyframes fall {
            0% { 
                transform: translateY(0) rotate(0deg); 
                opacity: 0; 
            }
            10% { 
                opacity: 1; 
            }
            100% { 
                transform: translateY(110vh) rotate(360deg); 
                opacity: 0.2; 
            }
        }

        /* é€†æ—¶é’ˆæ—‹è½¬ä¸‹è½ */
        @keyframes fall-reverse {
            0% { 
                transform: translateY(0) rotate(0deg); 
                opacity: 0; 
            }
            10% { 
                opacity: 1; 
            }
            100% { 
                transform: translateY(110vh) rotate(-360deg); 
                opacity: 0.2; 
            }
        }

        /* å“åº”å¼ä¼˜åŒ– */
        @media (max-width: 768px) {
            .top-bar {
                top: 20px;
                right: 20px;
            }

            .container {
                gap: 30px;
            }

            .date-main {
                flex-direction: column;
                gap: 8px;
                align-items: center;
            }

            .date-year {
                font-size: 0.9rem;
            }

            .date-md {
                font-size: 1.2rem;
            }

            .date-weekday {
                font-size: 0.8rem;
            }

            .time-source {
                bottom: 10px;
                right: 10px;
                font-size: 0.6rem;
            }
        }
    </style>
</head>
<body data-theme="dark">

    <div class="top-bar">
        <button class="icon-btn" id="themeBtn">DARK</button>
    </div>
    
    <div class="container">
        <div class="clock-wrapper">
            <span class="time-unit" id="h">00</span>
            <span class="colon">:</span>
            <span class="time-unit" id="m">00</span>
            <span class="colon">:</span>
            <span class="time-unit" id="s">00</span>
        </div>
        
        <div class="date-container">
            <div class="date-main">
                <span class="date-year" id="dateYear">2024å¹´</span>
                <span class="date-md" id="dateMD">01æœˆ01æ—¥</span>
            </div>
            <div class="date-weekday" id="dateWeekday">æ˜ŸæœŸä¸€</div>
        </div>
    </div>

    <div class="time-source" id="timeSource">LOCAL TIME</div>

    <script>
        // å›¾æ ‡åº“ï¼ˆæ‚¨å¯ä»¥åœ¨è¿™é‡Œæ‰‹åŠ¨æ·»åŠ æ›´å¤šå›¾æ ‡ï¼‰
        const iconSet = [
            'ğŸ’¾', 'ğŸ’¿', 'ğŸ–¥ï¸', 'ğŸ–±ï¸', 'âŒ¨ï¸', 'ğŸ“±', 'ğŸ“¡', 'â˜ï¸', 'âš¡', 'â„ï¸', 'ğŸ’§', 'ğŸŒŠ', 'ğŸŒ™', 'â­', 'ğŸš€', 'ğŸ›¸', 'ğŸ‘¾', 'ğŸ®', 'ğŸµ', 'â˜•',
            'ğŸ˜€', 'ğŸ˜ƒ', 'ğŸ˜„', 'ğŸ˜', 'ğŸ˜†', 'ğŸ˜…', 'ğŸ˜‚', 'ğŸ¤£', 'ğŸ¥²', 'â˜ºï¸', 'ğŸ˜Š', 'ğŸ˜‡', 'ğŸ™‚', 'ğŸ™ƒ', 'ğŸ˜‰', 'ğŸ˜Œ', 'ğŸ˜', 'ğŸ¥°', 'ğŸ˜˜', 'ğŸ˜—', 
            'ğŸ˜™', 'ğŸ˜š', 'ğŸ˜‹', 'ğŸ˜›', 'ğŸ˜', 'ğŸ˜œ', 'ğŸ¤ª', 'ğŸ¤¨', 'ğŸ§', 'ğŸ¤“', 'ğŸ˜', 'ğŸ¥¸', 'ğŸ¤©', 'ğŸ¥³', 'ğŸ˜', 'ğŸ˜’', 'ğŸ˜', 'ğŸ˜”', 'ğŸ˜Ÿ', 'ğŸ˜•', 
            'ğŸ™', 'â˜¹ï¸', 'ğŸ˜£', 'ğŸ˜–', 'ğŸ˜«', 'ğŸ˜©', 'ğŸ¥º', 'ğŸ˜¢', 'ğŸ˜­', 'ğŸ˜¤', 'ğŸ˜ ', 'ğŸ˜¡', 'ğŸ¤¬', 'ğŸ¤¯', 'ğŸ˜³', 'ğŸ¥µ', 'ğŸ¥¶', 'ğŸ˜±', 'ğŸ˜¨', 'ğŸ˜°', 
            'ğŸ˜¥', 'ğŸ˜“', 'ğŸ¤—', 'ğŸ¤”', 'ğŸ«£', 'ğŸ¤­', 'ğŸ«¢', 'ğŸ«¡', 'ğŸ¤«', 'ğŸ« ', 'ğŸ¤¥', 'ğŸ˜¶', 'ğŸ«¥', 'ğŸ˜', 'ğŸ˜‘', 'ğŸ˜¬', 'ğŸ™„', 'ğŸ˜¯', 'ğŸ˜¦', 'ğŸ˜§', 
            'ğŸ˜®', 'ğŸ˜²', 'ğŸ¥±', 'ğŸ˜´', 'ğŸ¤¤', 'ğŸ˜ª', 'ğŸ˜µ', 'ğŸ˜µâ€ğŸ’«', 'ğŸ«¨', 'ğŸ¤', 'ğŸ¥´', 'ğŸ¤¢', 'ğŸ¤®', 'ğŸ¤§', 'ğŸ˜·', 'ğŸ¤’', 'ğŸ¤•', 'ğŸ¤‘', 'ğŸ¤ ', 'ğŸ˜ˆ', 
            'ğŸ‘¿', 'ğŸ‘¹', 'ğŸ‘º', 'ğŸ¤¡', 'ğŸ’©', 'ğŸ‘»', 'ğŸ’€', 'â˜ ï¸', 'ğŸ‘½', 'ğŸ‘¾', 'ğŸ¤–', 'ğŸƒ', 'ğŸ˜º', 'ğŸ˜¸', 'ğŸ˜¹', 'ğŸ˜»', 'ğŸ˜¼', 'ğŸ˜½', 'ğŸ™€', 'ğŸ˜¿', 
            'ğŸ˜¾', 'ğŸ‘‹', 'ğŸ¤š', 'ğŸ–ï¸', 'âœ‹', 'ğŸ––', 'ğŸ‘Œ', 'ğŸ¤Œ', 'ğŸ¤', 'âœŒï¸', 'ğŸ¤', 'ğŸ«°', 'ğŸ¤Ÿ', 'ğŸ¤˜', 'ğŸ¤™', 'ğŸ‘ˆ', 'ğŸ‘‰', 'ğŸ‘†', 'ğŸ–•', 'ğŸ‘‡', 
            'â˜ï¸', 'ğŸ‘', 'ğŸ‘', 'âœŠ', 'ğŸ‘Š', 'ğŸ¤›', 'ğŸ¤œ', 'ğŸ‘', 'ğŸ™Œ', 'ğŸ«¶', 'ğŸ‘', 'ğŸ¤²', 'ğŸ¤', 'ğŸ™', 'âœï¸', 'ğŸ’…', 'ğŸ¤³', 'ğŸ’ª', 'ğŸ¦¾', 'ğŸ¦µ', 
            'ğŸ¦¿', 'ğŸ¦¶', 'ğŸ‘‚', 'ğŸ¦»', 'ğŸ‘ƒ', 'ğŸ§ ', 'ğŸ«€', 'ğŸ«', 'ğŸ¦·', 'ğŸ¦´', 'ğŸ‘€', 'ğŸ‘ï¸', 'ğŸ‘…', 'ğŸ‘„', 'ğŸ«¦', 'ğŸ‘¶', 'ğŸ§’', 'ğŸ‘¦', 'ğŸ‘§', 'ğŸ§‘', 
            'ğŸ‘±', 'ğŸ‘¨', 'ğŸ§”', 'ğŸ‘©', 'ğŸ‘µ', 'ğŸ‘´', 'ğŸ‘²', 'ğŸ‘³', 'ğŸ§•', 'ğŸ‘®', 'ğŸ‘·', 'ğŸ’‚', 'ğŸ•µï¸', 'ğŸ§‘â€âš•ï¸', 'ğŸ§‘â€ğŸŒ¾', 'ğŸ§‘â€ğŸ³', 'ğŸ§‘â€ğŸ“', 'ğŸ§‘â€ğŸ¤', 'ğŸ§‘â€ğŸ«', 'ğŸ§‘â€ğŸ­', 
            'ğŸ§‘â€ğŸ’»', 'ğŸ§‘â€ğŸ’¼', 'ğŸ§‘â€ğŸ”§', 'ğŸ§‘â€ğŸ”¬', 'ğŸ§‘â€ğŸ¨', 'ğŸ§‘â€ğŸš’', 'ğŸ§‘â€âœˆï¸', 'ğŸ§‘â€ğŸš€', 'ğŸ§‘â€âš–ï¸', 'ğŸ‘°', 'ğŸ¤µ', 'ğŸ¤´', 'ğŸ‘¸', 'ğŸ¥·', 'ğŸ¦¸', 'ğŸ¦¹', 'ğŸ…', 'ğŸ¤¶', 'ğŸ§™', 'ğŸš‘',
            'ğŸ§š', 'ğŸ§›', 'ğŸ§œ', 'ğŸ§', 'ğŸ§', 'ğŸ§Ÿ', 'ğŸ«‚', 'ğŸ’†', 'ğŸ’‡', 'ğŸš¶', 'ğŸƒ', 'ğŸ’ƒ', 'ğŸ•º', 'ğŸ‘¯', 'ğŸ§–', 'ğŸ§—', 'ğŸ¤º', 'ğŸ‡', 'â›·ï¸', 'ğŸ‚', 
            'ğŸŒï¸', 'ğŸ„', 'ğŸš£', 'ğŸŠ', 'â›¹ï¸', 'ğŸ‹ï¸', 'ğŸš´', 'ğŸšµ', 'ğŸ¤¸', 'ğŸ¤¼', 'ğŸ¤½', 'ğŸ¤¾', 'ğŸ¤¹', 'ğŸ§˜', 'ğŸ›€', 'ğŸ›Œ', 'ğŸ‘­', 'ğŸ‘«', 'ğŸ‘¬', 'ğŸ’', 
            'ğŸ’‘', 'ğŸ‘ª', 'ğŸ—£ï¸', 'ğŸ‘¤', 'ğŸ‘¥', 'ğŸ¾', 'ğŸµ', 'ğŸ’', 'ğŸ¦', 'ğŸ¦§', 'ğŸ¶', 'ğŸ•', 'ğŸ¦®', 'ğŸ©', 'ğŸº', 'ğŸ¦Š', 'ğŸ¦', 'ğŸ±', 'ğŸˆ', 'ğŸ¦', 
            'ğŸ¯', 'ğŸ…', 'ğŸ†', 'ğŸ´', 'ğŸ', 'ğŸ¦„', 'ğŸ¦“', 'ğŸ¦Œ', 'ğŸ¦¬', 'ğŸ®', 'ğŸ‚', 'ğŸƒ', 'ğŸ„', 'ğŸ·', 'ğŸ–', 'ğŸ—', 'ğŸ½', 'ğŸ', 'ğŸ‘', 'ğŸ', 
            'ğŸª', 'ğŸ«', 'ğŸ¦™', 'ğŸ¦’', 'ğŸ˜', 'ğŸ¦£', 'ğŸ¦', 'ğŸ¦›', 'ğŸ­', 'ğŸ¹', 'ğŸ°', 'ğŸ‡', 'ğŸ¿ï¸', 'ğŸ¦«', 'ğŸ¦”', 'ğŸ¦‡', 'ğŸ»', 'ğŸ¨', 'ğŸ¼', 'ğŸ¦¥', 
            'ğŸ¦¦', 'ğŸ¦¨', 'ğŸ¦˜', 'ğŸ¦¡', 'ğŸ¦ƒ', 'ğŸ”', 'ğŸ“', 'ğŸ£', 'ğŸ¤', 'ğŸ¥', 'ğŸ¦', 'ğŸ§', 'ğŸ•Šï¸', 'ğŸ¦…', 'ğŸ¦†', 'ğŸ¦¢', 'ğŸ¦‰', 'ğŸ¦¤', 'ğŸª¶', 'ğŸ¦©', 
            'ğŸ¦š', 'ğŸ¦œ', 'ğŸ¢', 'ğŸ', 'ğŸ¦', 'ğŸ¦–', 'ğŸ¦•', 'ğŸ™', 'ğŸ¦‘', 'ğŸ¦', 'ğŸ¦', 'ğŸ¦€', 'ğŸ¡', 'ğŸ ', 'ğŸŸ', 'ğŸ¬', 'ğŸ³', 'ğŸ‹', 'ğŸ¦ˆ', 'ğŸŠ', 
            'ğŸ‡', 'ğŸˆ', 'ğŸ‰', 'ğŸŠ', 'ğŸ‹', 'ğŸŒ', 'ğŸ', 'ğŸ¥­', 'ğŸ', 'ğŸ', 'ğŸ', 'ğŸ‘', 'ğŸ’', 'ğŸ“', 'ğŸ«', 'ğŸ¥', 'ğŸ…', 'ğŸ«’', 'ğŸ¥¥', 'ğŸ¥‘', 
            'ğŸ†', 'ğŸ¥”', 'ğŸ¥•', 'ğŸŒ½', 'ğŸŒ¶ï¸', 'ğŸ«‘', 'ğŸ¥’', 'ğŸ¥¬', 'ğŸ¥¦', 'ğŸ§„', 'ğŸ§…', 'ğŸ„', 'ğŸ¥œ', 'ğŸ«˜', 'ğŸŒ°', 'ğŸ', 'ğŸ¥', 'ğŸ¥–', 'ğŸ«“', 'ğŸ¥¨', 
            'ğŸ¥¯', 'ğŸ¥', 'ğŸ§‡', 'ğŸ§€', 'ğŸ–', 'ğŸ—', 'ğŸ¥©', 'ğŸ¥“', 'ğŸ”', 'ğŸŸ', 'ğŸ•', 'ğŸŒ­', 'ğŸ¥ª', 'ğŸŒ®', 'ğŸŒ¯', 'ğŸ«”', 'ğŸ¥™', 'ğŸ§†', 'ğŸ¥š', 'ğŸ³', 
            'ğŸ¥˜', 'ğŸ²', 'ğŸ¥£', 'ğŸ¥—', 'ğŸ¿', 'ğŸ§ˆ', 'ğŸ§‚', 'ğŸ¥«', 'ğŸ±', 'ğŸ˜', 'ğŸ™', 'ğŸš', 'ğŸ›', 'ğŸœ', 'ğŸ', 'ğŸ ', 'ğŸ¢', 'ğŸ£', 'ğŸ¤', 'ğŸ¥', 
            'ğŸ¥®', 'ğŸ¡', 'ğŸ¥Ÿ', 'ğŸ¥ ', 'ğŸ¥¡', 'ğŸ¦', 'ğŸ§', 'ğŸ¨', 'ğŸ©', 'ğŸª', 'ğŸ‚', 'ğŸ°', 'ğŸ§', 'ğŸ¥§', 'ğŸ«', 'ğŸ¬', 'ğŸ­', 'ğŸ®', 'ğŸ¯', 'ğŸ¼', 
            'ğŸ¥›', 'â˜•', 'ğŸ«–', 'ğŸµ', 'ğŸ¶', 'ğŸ¾', 'ğŸ·', 'ğŸ¸', 'ğŸ¹', 'ğŸº', 'ğŸ»', 'ğŸ¥‚', 'ğŸ¥ƒ', 'ğŸ¥¤', 'ğŸ§‹', 'ğŸ§ƒ', 'ğŸ§‰', 'ğŸ§Š', 'ğŸ¥¢', 'ğŸ½ï¸', 
            'ğŸ´', 'ğŸ¥„', 'ğŸ”ª', 'ğŸº', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ', 'ğŸ—ºï¸', 'ğŸ§­', 'ğŸ”ï¸', 'â›°ï¸', 'ğŸŒ‹', 'ğŸ—»', 'ğŸ•ï¸', 'ğŸ–ï¸', 'ğŸœï¸', 'ğŸï¸', 'ğŸï¸', 'ğŸš',
            'ğŸŸï¸', 'ğŸ›ï¸', 'ğŸ—ï¸', 'ğŸ§±', 'ğŸ˜ï¸', 'ğŸšï¸', 'ğŸ ', 'ğŸ¡', 'ğŸ¢', 'ğŸ£', 'ğŸ¤', 'ğŸ¥', 'ğŸ¦', 'ğŸ¨', 'ğŸ©', 'ğŸª', 'ğŸ«', 'ğŸ¬', 'ğŸ­', 'ğŸ¯', 
            'ğŸ°', 'ğŸ’’', 'ğŸ—¼', 'ğŸ—½', 'â›ª', 'ğŸ•Œ', 'ğŸ›•', 'ğŸ•', 'â›©ï¸', 'ğŸ•‹', 'â›²', 'â›º', 'ğŸŒ', 'ğŸŒƒ', 'ğŸ™ï¸', 'ğŸŒ…', 'ğŸŒ‡', 'ğŸŒ†', 'ğŸŒ‰', 'â™¨ï¸', 
            'ğŸ ', 'ğŸ¡', 'ğŸ¢', 'ğŸ’ˆ', 'ğŸª', 'ğŸš‚', 'ğŸšƒ', 'ğŸš„', 'ğŸš…', 'ğŸš†', 'ğŸš‡', 'ğŸšˆ', 'ğŸš‰', 'ğŸšŠ', 'ğŸš', 'ğŸš', 'ğŸš‹', 'ğŸšŒ', 'ğŸš', 'ğŸš', 
        ];


        // ==================== æ—¶é—´åŒæ­¥ç³»ç»Ÿ ====================
        
        let timeOffset = 0; // æœ¬åœ°æ—¶é—´ä¸ç½‘ç»œæ—¶é—´çš„åç§»é‡ï¼ˆæ¯«ç§’ï¼‰
        let isTimeSynced = false; // æ˜¯å¦å·²åŒæ­¥ç½‘ç»œæ—¶é—´

        // è·å–ç½‘ç»œæ—¶é—´
        async function syncNetworkTime() {
            try {
                const startTime = Date.now();
                
                // æ–¹æ¡ˆ1: ä½¿ç”¨ WorldTimeAPIï¼ˆå…è´¹ï¼Œæ— éœ€å¯†é’¥ï¼‰
                const response = await fetch('https://worldtimeapi.org/api/timezone/Asia/Shanghai', {
                    cache: 'no-cache'
                });
                
                const endTime = Date.now();
                const latency = (endTime - startTime) / 2; // ä¼°ç®—ç½‘ç»œå»¶è¿Ÿ
                
                if (response.ok) {
                    const data = await response.json();
                    const networkTime = new Date(data.datetime).getTime();
                    
                    // è®¡ç®—æ—¶é—´åç§»é‡ï¼ˆè€ƒè™‘ç½‘ç»œå»¶è¿Ÿï¼‰
                    timeOffset = networkTime + latency - Date.now();
                    isTimeSynced = true;
                    
                    updateTimeSourceIndicator('NETWORK TIME', true);
                    console.log(`âœ… æ—¶é—´å·²åŒæ­¥ï¼Œåç§»é‡: ${timeOffset}ms`);
                    
                    return true;
                }
            } catch (error) {
                console.warn('âš ï¸ ç½‘ç»œæ—¶é—´åŒæ­¥å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ—¶é—´:', error);
            }
            
            // å¦‚æœç½‘ç»œæ—¶é—´è·å–å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨æ–¹æ¡ˆ
            try {
                // æ–¹æ¡ˆ2: ä½¿ç”¨ timeapi.ioï¼ˆå¤‡ç”¨ï¼‰
                const response = await fetch('https://timeapi.io/api/Time/current/zone?timeZone=Asia/Shanghai');
                if (response.ok) {
                    const data = await response.json();
                    const networkTime = new Date(data.dateTime).getTime();
                    timeOffset = networkTime - Date.now();
                    isTimeSynced = true;
                    updateTimeSourceIndicator('NETWORK TIME', true);
                    return true;
                }
            } catch (error) {
                console.warn('âš ï¸ å¤‡ç”¨æ—¶é—´æºä¹Ÿå¤±è´¥');
            }
            
            // æ‰€æœ‰æ–¹æ¡ˆéƒ½å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ—¶é—´
            updateTimeSourceIndicator('LOCAL TIME', false);
            return false;
        }

        // è·å–å½“å‰å‡†ç¡®æ—¶é—´
        function getAccurateTime() {
            return new Date(Date.now() + timeOffset);
        }

        // æ›´æ–°æ—¶é—´æºæŒ‡ç¤ºå™¨
        function updateTimeSourceIndicator(text, synced) {
            const indicator = document.getElementById('timeSource');
            indicator.textContent = text;
            if (synced) {
                indicator.classList.add('synced');
            } else {
                indicator.classList.remove('synced');
            }
        }

        // åˆå§‹åŒ–æ—¶é—´åŒæ­¥ï¼ˆé¡µé¢åŠ è½½æ—¶ï¼‰
        syncNetworkTime();

        // æ¯å°æ—¶é‡æ–°åŒæ­¥ä¸€æ¬¡
        setInterval(syncNetworkTime, 60 * 60 * 1000);

        // ==================== ä¸»é¢˜åˆ‡æ¢ ====================
        
        const themeBtn = document.getElementById('themeBtn');
        const body = document.body;

        const applyTheme = (theme) => {
            body.setAttribute('data-theme', theme);
            themeBtn.textContent = theme.toUpperCase();
            localStorage.setItem('user-theme', theme);
        };

        themeBtn.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            applyTheme(newTheme);
        });

        // åˆå§‹åŒ–ä¸»é¢˜
        const savedTheme = localStorage.getItem('user-theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(savedTheme || (prefersDark ? 'dark' : 'light'));

        // ==================== æ—¶é’Ÿæ›´æ–° ====================
        
        const weekdayMap = {
            0: 'æ˜ŸæœŸæ—¥',
            1: 'æ˜ŸæœŸä¸€',
            2: 'æ˜ŸæœŸäºŒ',
            3: 'æ˜ŸæœŸä¸‰',
            4: 'æ˜ŸæœŸå››',
            5: 'æ˜ŸæœŸäº”',
            6: 'æ˜ŸæœŸå…­'
        };

        function updateClock() {
            const now = getAccurateTime(); // ä½¿ç”¨åŒæ­¥åçš„å‡†ç¡®æ—¶é—´
            
            // æ›´æ–°æ—¶é—´
            document.getElementById('h').textContent = String(now.getHours()).padStart(2, '0');
            document.getElementById('m').textContent = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('s').textContent = String(now.getSeconds()).padStart(2, '0');
            
            // æ›´æ–°æ—¥æœŸ
            document.getElementById('dateYear').textContent = now.getFullYear() + 'å¹´';
            document.getElementById('dateMD').textContent = 
                `${String(now.getMonth() + 1).padStart(2, '0')}æœˆ${String(now.getDate()).padStart(2, '0')}æ—¥`;
            document.getElementById('dateWeekday').textContent = weekdayMap[now.getDay()];
        }

        setInterval(updateClock, 1000);
        updateClock();

        // ==================== å›¾æ ‡é›¨ ====================
        
        function createRainDrop() {
            const icon = document.createElement('div');
            icon.classList.add('rain-icon');
            icon.textContent = iconSet[Math.floor(Math.random() * iconSet.length)];
            
            // éšæœºé€‰æ‹©é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬
            const isReverse = Math.random() > 0.5;
            if (isReverse) {
                icon.style.animationName = 'fall-reverse';
            }
            
            const left = Math.random() * 100 + 'vw';
            const size = Math.random() * 1.5 + 1 + 'rem';
            const duration = Math.random() * 5 + 4 + 's';
            const delay = Math.random() * 2 + 's';
            
            icon.style.left = left;
            icon.style.fontSize = size;
            icon.style.animationDuration = duration;
            icon.style.animationDelay = delay;
            icon.style.opacity = Math.random() * 0.4 + 0.2;
            
            if (Math.random() > 0.8) {
                icon.style.filter = `blur(${Math.random() * 2}px)`;
            }
            
            document.body.appendChild(icon);
            icon.addEventListener('animationend', () => icon.remove());
        }

        // åˆå§‹åŒ–å›¾æ ‡é›¨
        for (let i = 0; i < 15; i++) {
            createRainDrop();
        }
        
        setInterval(createRainDrop, 200);
    </script>
</body>
</html>
