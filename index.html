<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­—ç»¿æ´²</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@800&display=swap" rel="stylesheet">

    <style>
        :root {
            /* 1. èƒŒæ™¯æ”¹å› v7 ç‰ˆæœ¬çš„çº¯ç²¹æ·±è‰²ç³» */
            --bg-main: #050505;
            --bg-gradient: radial-gradient(circle at center, #1a1a1a 0%, #050505 100%);
            
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.4);
            --separator-color: #333;
        }

        [data-theme="light"] {
            --bg-main: #ffffff;
            --bg-gradient: radial-gradient(circle at center, #f0f2f5 0%, #ffffff 100%);
            --text-primary: #000000;
            --text-secondary: rgba(0, 0, 0, 0.4);
            --separator-color: #ddd;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: var(--bg-main);
            background: var(--bg-gradient);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'JetBrains Mono', monospace; 
            overflow: hidden;
            transition: background 0.6s ease, color 0.6s ease;
        }

        .top-bar { position: fixed; top: 40px; right: 40px; z-index: 100; }
        .icon-btn {
            background: none; border: none; font-size: 0.9rem; font-weight: 800;
            cursor: pointer; color: var(--text-primary); opacity: 0.3;
            transition: opacity 0.3s; text-transform: uppercase; letter-spacing: 2px;
            font-family: 'JetBrains Mono', monospace; 
        }
        .icon-btn:hover { opacity: 1; }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 10;
            position: relative;
        }

        /* --- æ—¶é—´å¸ƒå±€ --- */
        .clock-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(3rem, 11vw, 8rem);
            font-weight: 800;
            line-height: 1;
            margin-bottom: 30px;
            font-variant-numeric: tabular-nums;
        }

        .time-unit {
            width: 1.4em;
            text-align: center;
            display: inline-block;
        }

        /* 3. å†’å·ä¼˜åŒ–ï¼šé¢œè‰²å®Œå…¨ä¸€è‡´ï¼Œå»é™¤ä»»ä½•é€æ˜åº¦å·®å¼‚ */
        .colon {
            width: 0.4em;
            text-align: center;
            color: inherit; /* å¼ºåˆ¶ç»§æ‰¿çˆ¶å…ƒç´ é¢œè‰² */
            opacity: 1;     /* å¼ºåˆ¶ä¸é€æ˜ */
            padding-bottom: 0.1em; /* å¾®è°ƒå‚ç›´å¯¹é½ */
        }

        /* --- æ—¥æœŸå¸ƒå±€ --- */
        .date-container {
            display: flex;
            align-items: center;
            gap: 1.5rem; 
            font-size: 1rem; /* ç¨å¾®è°ƒå¤§ä¸€ç‚¹ï¼Œæ›´æ¸…æ™° */
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--text-secondary);
        }

        /* 2. æ–œçº¿åˆ†éš”ç¬¦ */
        .date-separator {
            width: 2px;
            height: 1em;
            background-color: var(--separator-color);
            transform: skew(-15deg);
        }

        /* --- å›¾æ ‡é›¨ä¼˜åŒ– --- */
        .rain-icon {
            position: fixed; top: -50px; pointer-events: none; user-select: none;
            z-index: 1; 
            will-change: transform, opacity; /* 4. æ€§èƒ½ä¼˜åŒ–ï¼šæç¤ºæµè§ˆå™¨ */
            animation-name: fall; animation-timing-function: linear;
            mix-blend-mode: overlay; 
        }
        [data-theme="light"] .rain-icon { mix-blend-mode: multiply; }

        @keyframes fall {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.6; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body data-theme="dark">

    <div class="top-bar">
        <button class="icon-btn" id="themeBtn">DARK</button>
    </div>
    
    <div class="container">
        <div class="clock-wrapper">
            <span class="time-unit" id="h">00</span>
            <span class="colon">:</span>
            <span class="time-unit" id="m">00</span>
            <span class="colon">:</span>
            <span class="time-unit" id="s">00</span>
        </div>
        
        <div class="date-container">
            <span id="date-part">LOADING</span>
            <div class="date-separator"></div>
            <span id="weekday-part">...</span>
        </div>
    </div>

    <script>
        // --- 1. Emoji åº“ (ä¿ç•™ä½ æä¾›çš„å®Œæ•´åˆ—è¡¨) ---
        const rawIconString = "'ğŸ’¾', 'ğŸ’¿', 'ğŸ–¥ï¸', 'ğŸ–±ï¸', 'âŒ¨ï¸', 'ğŸ“±', 'ğŸ“¡', 'â˜ï¸', 'âš¡', 'â„ï¸', 'ğŸ’§', 'ğŸŒŠ', 'ğŸŒ™', 'â­', 'ğŸš€', 'ğŸ›¸', 'ğŸ‘¾', 'ğŸ®', 'ğŸµ', 'â˜•','ğŸ˜€','ğŸ˜ƒ','ğŸ˜„','ğŸ˜','ğŸ˜†','ğŸ˜…','ğŸ˜‚','ğŸ¤£','ğŸ¥²','â˜ºï¸','ğŸ˜Š','ğŸ˜‡','ğŸ™‚','ğŸ¤ª','ğŸ¤¨','ğŸ§','ğŸ˜','ğŸ¥¸','ğŸ¤©','ğŸ¥³','ğŸ˜','ğŸ˜’','ğŸ˜','ğŸ˜Ÿ','ğŸ˜•','ğŸ™','â˜¹ï¸','ğŸ˜£','ğŸ˜–','ğŸ˜«','ğŸ˜©','ğŸ¥º','ğŸ˜¢','ğŸ˜­','ğŸ˜¤','ğŸ˜ ','ğŸ˜¡','ğŸ¤¬','ğŸ¤¯','ğŸ˜³','ğŸ¥µ','ğŸ¥¶','ğŸ˜±','ğŸ˜¨','ğŸ˜“','ğŸ¤—','ğŸ¥±','ğŸ˜´','ğŸ¤¤','ğŸ˜ª','ğŸ¥´','ğŸ¤¢','ğŸ¤®','ğŸ¤§','ğŸ˜·','ğŸ¤’','ğŸ¤•','ğŸ¤‘','ğŸ¤ ','ğŸ˜ˆ','ğŸ‘¹','ğŸ‘º','ğŸ¤¡','ğŸ’©','ğŸ‘»','ğŸ’€','â˜ ï¸','ğŸ‘½','ğŸ‘¾','ğŸ¤–','ğŸƒ','ğŸ˜º','ğŸ˜¸','ğŸ˜¿','ğŸ˜¾','ğŸ––','ğŸ‘Œ','ğŸ¤Œ','ğŸ¤','ğŸ«°','ğŸ¤Ÿ','ğŸ¤˜','ğŸ¤™','ğŸ‘ˆ','ğŸ‘‰','ğŸ‘†','ğŸ¤›','ğŸ¤œ','ğŸ‘ƒ','ğŸ§ ','ğŸ«€','ğŸ«','ğŸ¦·','ğŸ¦´','ğŸ§‘â€ğŸ“','ğŸ§‘â€ğŸ”§','ğŸ§‘â€ğŸ”¬','ğŸ§‘â€ğŸ¨','ğŸ§‘â€ğŸš’','ğŸ§‘â€âœˆï¸','ğŸ§‘â€ğŸš€','ğŸ¥·','ğŸ¦¸','ğŸ¦¹','ğŸ…','ğŸ¤¶','ğŸ§™','ğŸ§š','ğŸ§›','ğŸ§œ','ğŸ§','ğŸ§','ğŸ§Ÿ','ğŸ«‚','ğŸ’†','ğŸ’‡','ğŸš¶','ğŸƒ','ğŸ’ƒ','ğŸ•º','ğŸ‘¯','ğŸ§–','ğŸ§—','ğŸ¤º','ğŸ‡','â›·ï¸','ğŸ‚','ğŸŒï¸','ğŸ„','ğŸš£','ğŸŠ','â›¹ï¸','ğŸ¤¾','ğŸ¦“','ğŸ¦Œ','ğŸ¦¬','ğŸ®','','ğŸ¦‡','ğŸ»','ğŸ¨','ğŸ¼','ğŸ¦¥','ğŸ¦¦','ğŸ¦¨','ğŸ¦˜','ğŸ¦¡','ğŸ¾','ğŸ¦ƒ','ğŸ”','ğŸ“','ğŸ£','ğŸ¤','ğŸ¥','ğŸ¦','ğŸ§','ğŸ•Šï¸','ğŸ¦…','ğŸ¦†','ğŸ¦¢','ğŸ¦‰','ğŸ¦¤','ğŸª¶','ğŸ¦©','ğŸ¦š','ğŸ¦œ','ğŸ¢','ğŸ','ğŸ™','ğŸ¦‘','ğŸ¦','ğŸ¦','ğŸ¦€','ğŸ¡','ğŸ ','ğŸŸ','ğŸ¬','ğŸ‡','ğŸˆ','ğŸ‰','ğŸ¥­','ğŸ','ğŸ','ğŸ','ğŸ‘','ğŸ’','ğŸ“','ğŸ«',' ğŸ…','ğŸ”','ğŸŸ','ğŸ•','ğŸŒ­','ğŸ¥ª','ğŸŒ®',' ğŸ«”','ğŸ¥™','ğŸ§†','ğŸ¥š','ğŸ³','ğŸ¥˜','ğŸ¯','ğŸ¼','ğŸ¥›','â˜•','ğŸ«–','ğŸµ','ğŸ¶','ğŸ¾','ğŸ·','ğŸ¸','ğŸ§Š','ğŸ¥¢','ğŸ½ï¸','ğŸŒ','ğŸŒ','ğŸ—ºï¸','ğŸ—¾','ğŸ£','ğŸ¥','ğŸ¦','ğŸ«','ğŸ—¼','ğŸ—½'";
        // æ€§èƒ½ä¼˜åŒ–ï¼šåªæ‰§è¡Œä¸€æ¬¡åˆ†å‰²æ“ä½œ
        const iconSet = rawIconString.replace(/'/g, '').split(/[, ]+/).filter(i => i.length > 0);

        // --- 2. ä¸»é¢˜é€»è¾‘ ---
        const themeBtn = document.getElementById('themeBtn');
        const body = document.body;
        const applyTheme = (theme) => {
            body.setAttribute('data-theme', theme);
            themeBtn.innerText = theme.toUpperCase();
            localStorage.setItem('user-theme', theme);
        };
        themeBtn.addEventListener('click', () => {
            const newTheme = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            applyTheme(newTheme);
        });
        if (!localStorage.getItem('user-theme') && window.matchMedia('(prefers-color-scheme: light)').matches) {
            applyTheme('light');
        } else if (localStorage.getItem('user-theme')) {
            applyTheme(localStorage.getItem('user-theme'));
        }

        // --- 3. æ—¶é’Ÿé€»è¾‘ (æ—¥æœŸæ ¼å¼ä¼˜åŒ–) ---
        function updateClock() {
            const now = new Date();
            const h = now.getHours().toString().padStart(2, '0');
            const m = now.getMinutes().toString().padStart(2, '0');
            const s = now.getSeconds().toString().padStart(2, '0');
            
            document.getElementById('h').innerText = h;
            document.getElementById('m').innerText = m;
            document.getElementById('s').innerText = s;
            
            // æ—¥æœŸé€»è¾‘ï¼šYYYY/MM/DD
            const y = now.getFullYear();
            const mo = (now.getMonth() + 1).toString().padStart(2, '0');
            const d = now.getDate().toString().padStart(2, '0');
            
            // æ˜ŸæœŸé€»è¾‘ï¼šè‹±æ–‡å…¨ç§°
            const weekStr = now.toLocaleDateString('en-US', { weekday: 'long' }).toUpperCase();
            
            document.getElementById('date-part').innerText = `${y}/${mo}/${d}`;
            document.getElementById('weekday-part').innerText = weekStr;
        }
        // ä¸ºäº†é¿å…åˆšæ‰“å¼€é¡µé¢æ—¶çš„é‚£ä¸€å¸§ç©ºç™½ï¼Œç«‹å³æ‰§è¡Œä¸€æ¬¡
        updateClock();
        setInterval(updateClock, 1000);

        // --- 4. å›¾æ ‡é›¨é€»è¾‘ (æ€§èƒ½ä¼˜åŒ–) ---
        function createRainDrop() {
            const icon = document.createElement('div');
            icon.classList.add('rain-icon');
            
            // éšæœºé€‰å–
            icon.innerText = iconSet[Math.floor(Math.random() * iconSet.length)];
            
            const left = Math.random() * 100 + 'vw';
            const size = Math.random() * 2 + 1 + 'rem';
            const duration = Math.random() * 5 + 5 + 's';
            
            icon.style.left = left;
            icon.style.fontSize = size;
            icon.style.animationDuration = duration;
            
            // æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘æ¨¡ç³Šæ»¤é•œçš„ä½¿ç”¨é¢‘ç‡ï¼ˆæ¨¡ç³Šå¾ˆè€— GPUï¼‰
            // åªæœ‰ 30% çš„æ¦‚ç‡å‡ºç°æ¨¡ç³Šï¼Œæ—¢ä¿ç•™äº†æ™¯æ·±ï¼Œåˆå¤§å¹…é™ä½äº†æ¸²æŸ“å‹åŠ›
            if (Math.random() > 0.7) icon.style.filter = `blur(${Math.random() * 3}px)`;
            
            document.body.appendChild(icon);
            
            // ç¡®ä¿åŠ¨ç”»ç»“æŸåæ¸…ç† DOM
            icon.addEventListener('animationend', () => {
                icon.remove();
            });
        }
        
        setInterval(createRainDrop, 200);
        // é¢„åŠ è½½ä¸€äº›é›¨æ»´ï¼Œè®©å¼€åœºä¸ç©ºæ—·
        for(let i=0; i<15; i++) createRainDrop();

    </script>
</body>
</html>
